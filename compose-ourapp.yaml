services:
  our-application-db:
    image: 'mysql:8.4'
    environment:
      - 'MYSQL_DATABASE=ourapp'
      - 'MYSQL_USER=ouruser'
      - 'MYSQL_PASSWORD=our-secret'
      - 'MYSQL_ROOT_PASSWORD=our-root-secret'
    ports:
      - '3307:3306'
    healthcheck:
      test: ['CMD-SHELL', 'mysqladmin ping -h 127.0.0.1 -p"$${MYSQL_ROOT_PASSWORD}"']
      interval: 5s
      timeout: 5s
      retries: 10
      start_period: 10s
